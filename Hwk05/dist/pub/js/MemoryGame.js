function MemoryGame(){var e,n,a,i,t,d=$("#GameBoard"),l=$("#Timer");$("#scoreboard");$.getJSON("/json/CardDef.json",function(n){e=n}),this.NewGame=function(t,f){if(d=$("#"+f),n=[],a=0,t>10)return alert("invalid number of matches"),0;clearInterval(i),i=setInterval(function(){l.html(++a)},1e3),d.html("");for(s=0;s<t;s++)n.push(e[s]),n.push(e[s]);shuffle(n);for(var s=0;s<n.length;s++)d.append('<li><div class="card" data-url="'+n[s].url+'" data-name="'+n[s].name+'"></div></li>');d.find(".card").click(r)};var r=function(){2!=d.find(".flipped").length&&($(this).hasClass("flipped")||$(this).slideToggle("fast",function(){$(this).addClass("flipped"),$(this).css("background-image","url("+$(this).data("url")+")"),$(this).slideToggle("fast",function(){2==d.find(".flipped").length&&(d.find(".flipped").eq(0).data("name")===d.find(".flipped").eq(1).data("name")?d.find(".flipped").addClass("matched").removeClass("flipped"):t=setTimeout(function(){d.find(".flipped").removeClass("flipped").css("background-image","url(/img/Animemory.png)")},1e3)),d.find(".matched").length==n.length&&(t=setTimeout(function(){clearInterval(i),alert("winner!!!!!");prompt("Enter Your Name: ","Player")},500))})}))}}$(document).ready(function(){var e=new MemoryGame;document.getElementById("ngButton").onclick=function(){e.NewGame(2,"GameBoard")}});ched').removeClass('flipped'); } else { actionTimer = setTimeout(function(){ board.find('.flipped').removeClass('flipped').css('background-image', 'url(/img/Animemory.png)'); }, 1000); } } if(board.find('.matched').length == gameCards.length) { actionTimer = setTimeout(function(){ var winTime = gameTime; clearInterval(gameTimer); alert('winner!!!!!'); //highScore.push(winTime,Player); var Player = prompt('Enter Your Name: ','Player'); }, 500); } }); }); } } }; $(document).ready(function(){ var memGame = new MemoryGame(); document.getElementById('ngButton').onclick = function(){ memGame.NewGame(2, "GameBoard"); }; });